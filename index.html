<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Stand the Bottle</title>
<style>
  body {
    font-family: 'Arial', sans-serif;
    background: linear-gradient(to bottom, #87CEEB, #f0f0f0);
    margin: 0;
    padding: 0;
    text-align: center;
  }
  h1 {
    margin-top: 30px;
    color: #333;
    font-size: 3em;
  }
  #game-container {
    position: relative;
    margin: 30px auto;
    width: 400px;
    height: 600px;
    background: #fff;
    border: 4px solid #333;
    border-radius: 15px;
    overflow: hidden;
    box-shadow: 0 5px 15px rgba(0,0,0,0.3);
  }
  #bottle {
    position: absolute;
    bottom: 20px;
    left: 180px;
    width: 40px;
    height: 100px;
    background: green;
    border-radius: 10px;
  }
  #ring {
    position: absolute;
    top: 50px;
    left: 170px;
    width: 60px;
    height: 60px;
    border: 5px solid #f00;
    border-radius: 50%;
    cursor: grab;
  }
  #scoreboard {
    margin-top: 20px;
    font-size: 1.2em;
  }
  #instructions {
    width: 80%;
    margin: 10px auto;
    font-size: 1em;
    color: #555;
  }
  #play-btn {
    margin-top: 20px;
    padding: 10px 20px;
    font-size: 1.2em;
    background-color: #28a745;
    color: #fff;
    border: none;
    border-radius: 10px;
    cursor: pointer;
  }
  #play-btn:hover {
    background-color: #218838;
  }
</style>
</head>
<body>

<h1>Stand the Bottle</h1>
<div id="instructions">
  Drag the red ring carefully and try to lift the green bottle without touching the edges!
</div>
<button id="play-btn">Play Game</button>

<div id="game-container">
  <div id="bottle"></div>
  <div id="ring"></div>
</div>

<div id="scoreboard">
  Score: <span id="score">0</span>
</div>

<script>
  const ring = document.getElementById('ring');
  const bottle = document.getElementById('bottle');
  const scoreEl = document.getElementById('score');
  const playBtn = document.getElementById('play-btn');

  let score = 0;
  let isDragging = false;
  let offsetX, offsetY;
  let gameActive = false;

  function startGame() {
    score = 0;
    scoreEl.textContent = score;
    ring.style.top = '50px';
    ring.style.left = '170px';
    bottle.style.bottom = '20px';
    gameActive = true;
    playBtn.disabled = true;
    playBtn.textContent = 'Playing...';
  }

  playBtn.addEventListener('click', startGame);

  ring.addEventListener('mousedown', (e) => {
    if(!gameActive) return;
    isDragging = true;
    offsetX = e.offsetX;
    offsetY = e.offsetY;
  });

  document.addEventListener('mouseup', () => {
    isDragging = false;
  });

  document.addEventListener('mousemove', (e) => {
    if(!isDragging || !gameActive) return;
    const containerRect = document.getElementById('game-container').getBoundingClientRect();
    let x = e.clientX - containerRect.left - offsetX;
    let y = e.clientY - containerRect.top - offsetY;

    // Keep ring inside game container
    x = Math.max(0, Math.min(containerRect.width - ring.offsetWidth, x));
    y = Math.max(0, Math.min(containerRect.height - ring.offsetHeight, y));

    ring.style.left = x + 'px';
    ring.style.top = y + 'px';

    checkBottleLift();
  });

  function checkBottleLift() {
    const ringRect = ring.getBoundingClientRect();
    const bottleRect = bottle.getBoundingClientRect();

    const overlapX = ringRect.left < bottleRect.left + bottleRect.width &&
                     ringRect.left + ringRect.width > bottleRect.left;
    const overlapY = ringRect.top < bottleRect.top + bottleRect.height &&
                     ringRect.top + ringRect.height > bottleRect.top;

    if(overlapX && overlapY) {
      // Lift bottle gradually
      let bottleBottom = parseInt(bottle.style.bottom);
      if(bottleBottom < 400) {
        bottle.style.bottom = bottleBottom + 5 + 'px';
        score += 1;
        scoreEl.textContent = score;
      } else {
        // Bottle lifted completely
        alert('ðŸŽ‰ You lifted the bottle! Your score: ' + score);
        gameActive = false;
        playBtn.disabled = false;
        playBtn.textContent = 'Play Game';
      }
    }
  }
</script>

</body>
</html>
